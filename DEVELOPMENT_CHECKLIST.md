# 🚀 포커 핸드 로거 개발 체크리스트

## 프로젝트 정보
- **버전**: v3.4.x → v4.0.0
- **시작일**: 2025-09-22
- **목표**: 보안 강화, 코드 모듈화, 성능 최적화

---

## 📋 전체 개발 체크리스트

### **Phase 1: 긴급 보안 수정** 🔴
- [ ] **1.1 API 키 보안**
  - [x] Apps Script 프록시 코드 작성 (`GeminiProxy.gs`)
  - [x] 클라이언트 보안 모듈 작성 (`gemini-client.js`)
  - [x] 설정 가이드 문서 작성 (`SETUP_API_SECURITY.md`)
  - [ ] Google Apps Script에 코드 배포
  - [ ] Script Properties에 API 키 설정
  - [ ] 프록시 URL 획득 및 저장
  - [ ] index.html에서 하드코딩된 API 키 제거
  - [ ] 프록시 연결 테스트
  - [ ] 칩 분석 기능 테스트

- [ ] **1.2 민감 정보 보호**
  - [ ] localStorage 데이터 암호화 구현
  - [ ] XSS 방지 입력 검증 추가
  - [ ] CORS 정책 설정
  - [ ] CSP(Content Security Policy) 헤더 추가

### **Phase 2: 코드 구조 개선** 🟡
- [ ] **2.1 프로젝트 구조 재구성**
  - [ ] 디렉토리 구조 생성
    - [ ] `src/js/core/` 폴더 생성
    - [ ] `src/js/managers/` 폴더 생성
    - [ ] `src/js/ui/` 폴더 생성
    - [ ] `src/js/utils/` 폴더 생성
    - [ ] `src/css/` 폴더 생성
  - [ ] 기존 파일 백업 (`index.html.backup`)

- [ ] **2.2 핵심 모듈 분리**
  - [ ] `config.js` - 설정 상수 모듈
    - [ ] API URLs 분리
    - [ ] 기본 설정값 분리
    - [ ] 타임존 설정 분리
  - [ ] `state.js` - 상태 관리 모듈
    - [ ] 전역 state 객체 이동
    - [ ] 상태 초기화 함수
    - [ ] 상태 업데이트 메서드
  - [ ] `utils.js` - 유틸리티 함수
    - [ ] formatNumber / unformatNumber
    - [ ] parseCSV
    - [ ] 시간 관련 함수
    - [ ] 데이터 변환 함수

- [ ] **2.3 매니저 클래스 분리**
  - [ ] `ActionOrderManager.js`
    - [ ] 액션 순서 관리 로직
    - [ ] 보안 레이어 통합
    - [ ] 베팅 라운드 체크
  - [ ] `TableManager.js`
    - [ ] 테이블 선택/관리
    - [ ] 플레이어 등록/삭제
    - [ ] 시트 동기화
  - [ ] `ChipAnalyzer.js`
    - [ ] 칩 분석 로직
    - [ ] 이미지 처리
    - [ ] Gemini API 연동

- [ ] **2.4 UI 모듈 분리**
  - [ ] `modals.js` - 모달 관리
    - [ ] 카드 선택 모달
    - [ ] 액션 패드 모달
    - [ ] 키패드 모달
    - [ ] 설정 모달
  - [ ] `render.js` - 렌더링 함수
    - [ ] renderPlayerSelection
    - [ ] renderPlayerDetails
    - [ ] renderActionStreets
    - [ ] renderBoardCards
  - [ ] `events.js` - 이벤트 핸들러
    - [ ] 클릭 이벤트
    - [ ] 터치 이벤트
    - [ ] 키보드 이벤트

### **Phase 3: 상태 관리 개선** 🟢
- [ ] **3.1 상태 관리 패턴 구현**
  - [ ] Store 클래스 생성
    - [ ] 상태 저장소 구현
    - [ ] 액션 디스패처
    - [ ] 리듀서 패턴
    - [ ] 구독 시스템
  - [ ] 상태 변경 감지
    - [ ] Observer 패턴 구현
    - [ ] 자동 렌더링 트리거
    - [ ] 변경 로그 기록

- [ ] **3.2 데이터 플로우 개선**
  - [ ] 단방향 데이터 흐름 구현
  - [ ] 액션 타입 정의
  - [ ] 불변성 보장
  - [ ] 상태 스냅샷 기능

### **Phase 4: 성능 최적화** 🔵
- [ ] **4.1 번들링 설정**
  - [ ] Webpack 설정 파일 생성
  - [ ] Babel 트랜스파일러 설정
  - [ ] 코드 스플리팅 구현
  - [ ] Tree shaking 적용
  - [ ] 압축 및 난독화

- [ ] **4.2 로딩 최적화**
  - [ ] Lazy loading 구현
  - [ ] 코드 분할 (Code splitting)
  - [ ] 이미지 최적화
  - [ ] 캐싱 전략 구현

- [ ] **4.3 런타임 최적화**
  - [ ] 메모리 누수 제거
  - [ ] 이벤트 리스너 정리
  - [ ] DOM 조작 최소화
  - [ ] 가상 스크롤 구현

### **Phase 5: 코드 품질** ⚪
- [ ] **5.1 개발 환경 설정**
  - [ ] `package.json` 생성
  - [ ] ESLint 설정 (`.eslintrc.json`)
  - [ ] Prettier 설정 (`.prettierrc`)
  - [ ] Git hooks 설정 (husky)

- [ ] **5.2 코드 스타일 통일**
  - [ ] 전체 파일 린팅
  - [ ] 자동 포맷팅 적용
  - [ ] 네이밍 컨벤션 통일
  - [ ] 주석 스타일 정리

- [ ] **5.3 문서화**
  - [ ] JSDoc 주석 추가
  - [ ] README.md 업데이트
  - [ ] API 문서 생성
  - [ ] 사용자 가이드 작성

### **Phase 6: 테스트 및 배포** 🟣
- [ ] **6.1 테스트 구현**
  - [ ] 단위 테스트 작성 (Jest)
  - [ ] 통합 테스트 작성
  - [ ] E2E 테스트 (Cypress)
  - [ ] 성능 테스트

- [ ] **6.2 CI/CD 파이프라인**
  - [ ] GitHub Actions 설정
  - [ ] 자동 테스트 실행
  - [ ] 자동 빌드
  - [ ] 자동 배포 (GitHub Pages)

- [ ] **6.3 배포 준비**
  - [ ] 프로덕션 빌드
  - [ ] 환경 변수 설정
  - [ ] 에러 모니터링 (Sentry)
  - [ ] 사용자 분석 (GA4)

---

## 📊 진행 현황

### 전체 진행률
```
Phase 1: [██░░░░░░░░] 30% (3/9 완료)
Phase 2: [░░░░░░░░░░] 0% (0/23 완료)
Phase 3: [░░░░░░░░░░] 0% (0/8 완료)
Phase 4: [░░░░░░░░░░] 0% (0/13 완료)
Phase 5: [░░░░░░░░░░] 0% (0/12 완료)
Phase 6: [░░░░░░░░░░] 0% (0/12 완료)

총 진행률: [█░░░░░░░░░] 4% (3/77 완료)
```

### 우선순위별 분류
- 🔴 **긴급** (Must): 13 항목
- 🟡 **높음** (Should): 23 항목
- 🟢 **중간** (Could): 8 항목
- 🔵 **낮음** (Nice to have): 33 항목

---

## 🎯 마일스톤

### **M1: 보안 강화 완료** (Week 1-2)
- [ ] API 키 서버사이드 이동 완료
- [ ] 민감정보 보호 구현
- [ ] 보안 테스트 통과

### **M2: 코드 모듈화 완료** (Week 3-4)
- [ ] 모든 모듈 파일 분리
- [ ] 번들링 시스템 구축
- [ ] 기존 기능 정상 작동 확인

### **M3: 상태 관리 개선** (Week 5-6)
- [ ] Store 시스템 구현
- [ ] 데이터 플로우 최적화
- [ ] 상태 관리 테스트 완료

### **M4: 최적화 완료** (Week 7-8)
- [ ] 로딩 시간 50% 감소
- [ ] 메모리 사용량 30% 감소
- [ ] 성능 벤치마크 통과

### **M5: 품질 보증** (Week 9-10)
- [ ] 코드 커버리지 80% 달성
- [ ] 0 Critical 버그
- [ ] 문서화 100% 완료

### **M6: 프로덕션 배포** (Week 11-12)
- [ ] 모든 테스트 통과
- [ ] CI/CD 파이프라인 가동
- [ ] v4.0.0 정식 릴리즈

---

## 📝 체크리스트 사용법

### 진행 상태 표시
- [ ] 미시작
- [🔄] 진행 중
- [✓] 완료
- [❌] 취소/보류
- [⚠️] 이슈 발생

### 우선순위 변경 시
1. 항목 앞의 색상 이모지 변경
2. Phase 순서 조정
3. 마일스톤 날짜 업데이트

### 완료 기준
- 각 항목은 테스트를 포함하여 완료
- 코드 리뷰 통과
- 문서 업데이트 완료

---

## 🔄 변경 이력

### 2025-09-22
- 초기 체크리스트 생성
- Phase 1 일부 완료 (API 보안 문서)

### [날짜 추가 예정]
- [변경 내용 추가]

---

## 📌 참고사항

### 브랜치 전략
- `main`: 안정 버전
- `develop`: 개발 브랜치
- `feature/*`: 기능별 브랜치
- `hotfix/*`: 긴급 수정

### 커밋 메시지 규칙
```
type: 간단한 설명 (이슈번호)

- feat: 새로운 기능
- fix: 버그 수정
- docs: 문서 수정
- style: 코드 포맷팅
- refactor: 코드 리팩토링
- test: 테스트 추가
- chore: 빌드 관련
```

### 이슈 트래킹
GitHub Issues에서 각 체크리스트 항목 관리

---

**마지막 업데이트**: 2025-09-22
**다음 리뷰**: 2025-09-29